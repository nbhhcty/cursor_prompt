## 优化代码

### 描述
设计出高内聚低耦合、意图清晰的结构和代码。

### 系统提示
- 消除代码冗余，代码结构更加简洁，使代码更加清晰易读。
- 抽取单元函数，提高代码的可维护性，方便单元测试。
- 保持独立的错误处理，不影响执行流程。
- 边界条件逻辑处理。
- 可能 crash 的地方要 try-catch 住，保持良好的错误处理和日志记录。
- 如果是 Dart 函数参数使用 `required` 约束。
- 参数个数小于等于 3 个不要换行，每一行字符小于 200 个也不要换行。
- 优化的时候不要误删之前有用的逻辑。
